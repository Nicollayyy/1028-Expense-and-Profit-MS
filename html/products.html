<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1028 Tea and Cafe - Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./../css/dashboard.css">
    <link rel="stylesheet" href="./../css/products.css">
</head>
<body>
    <div class="header">
        <h1>1028 Tea and Cafe</h1>
        <div class="admin-profile" id="adminProfile">
            <div class="admin-text">
                <div class="label">Welcome</div>
                <div class="name">Admin</div>
            </div>
            <button class="profile-toggle" id="profileToggle" aria-expanded="false">
                <i class="fas fa-user-circle" style="font-size: 2rem;"></i>
            </button>
            <div class="profile-dropdown" id="profileDropdown">
                <form method="post" action="../logout.php">
                    <button type="submit" class="dropdown-logout">Logout</button>
                </form>
            </div>
        </div>
    </div>

    <div class="main-container">
        <div class="sidebar">
            <a class="nav-item" href="dashboard.html">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dash Board</span>
            </a>
            <a class="nav-item" href="../profit.php">
                <i class="fas fa-chart-line"></i>
                <span>View Profit</span>
            </a>
            <a class="nav-item" href="expenses.html">
                <i class="fas fa-money-bill"></i>
                <span>View Expenses</span>
            </a>
            <a class="nav-item active" href="products.html">
                <i class="fas fa-box"></i>
                <span>Products</span>
            </a>
            <a class="nav-item" href="file_manager.html">
                <i class="fas fa-folder"></i>
                <span>File Manager</span>
            </a>
            <a class="nav-item" href="analytics.html">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            <a class="nav-item" href="../logout.php">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>

        <div class="content">
            <div class="content-title">Products</div>

                <!-- Categories filter: chips for desktop, select for small screens -->
                <div class="categories-wrap" style="margin-bottom:12px">
                    <div class="category-bar" id="categoryBar" role="tablist" aria-label="Product categories">
                        <button class="category-chip active" data-category="all">All</button>
                        <button class="category-chip" data-category="Milktea">Milktea</button>
                        <button class="category-chip" data-category="Cheesecake">Cheesecake</button>
                        <button class="category-chip" data-category="Regular Frappe">Regular Frappe</button>
                        <button class="category-chip" data-category="Fruit Tea">Fruit Tea</button>
                        <button class="category-chip" data-category="Iced Coffee">Iced Coffee</button>
                        <button class="category-chip" data-category="Milk Series">Milk Series</button>
                        <button class="category-chip" data-category="Fruit Soda">Fruit Soda</button>
                        <button class="category-chip" data-category="Hot Drinks">Hot Drinks</button>
                        <button class="category-chip" data-category="Premium Frappe">Premium Frappe</button>
                    </div>

                    <select id="categorySelect" class="category-select" aria-label="Filter products by category">
                        <option value="all">All</option>
                        <option value="Milktea">Milktea</option>
                        <option value="Cheesecake">Cheesecake</option>
                        <option value="Regular Frappe">Regular Frappe</option>
                        <option value="Fruit Tea">Fruit Tea</option>
                        <option value="Iced Coffee">Iced Coffee</option>
                        <option value="Milk Series">Milk Series</option>
                        <option value="Fruit Soda">Fruit Soda</option>
                        <option value="Hot Drinks">Hot Drinks</option>
                        <option value="Premium Frappe">Premium Frappe</option>
                    </select>
                </div>

                <div class="button-container" style="margin-bottom:12px">
                    <button class="btn-add-product">Add Product</button>
                </div>

            <div class="table-container">
                <div class="table-label">Product Catalog</div>
                <table class="product-table">
                    <thead>
                        <tr>
                            <th>SKU</th>
                            <th>Name</th>
                            <th>Category</th>
                            <th class="price-col">Price</th>
                            <th class="stock-col">Stock</th>
                            <th class="action-col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-category="Milktea">
                            <td>PRD-001</td>
                            <td>Milk Tea</td>
                            <td>Milktea</td>
                            <td class="price-col">₱ 65</td>
                            <td class="stock-col">120</td>
                            <td class="action-col">
                                <button class="btn-view-details">Edit</button>
                                <button class="btn-delete">Delete</button>
                            </td>
                        </tr>
                        <tr data-category="Cheesecake">
                            <td>PRD-002</td>
                            <td>Cheesecake Slice</td>
                            <td>Cheesecake</td>
                            <td class="price-col">₱ 85</td>
                            <td class="stock-col">40</td>
                            <td class="action-col">
                                <button class="btn-view-details">Edit</button>
                                <button class="btn-delete">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
        <script>
            // Products page: category filtering (chips + select)
            (function () {
                function filterByCategory(cat) {
                    const rows = document.querySelectorAll('.product-table tbody tr');
                    rows.forEach((r) => {
                        const rcat = (r.getAttribute('data-category') || '').toLowerCase();
                        if (!cat || cat === 'all') {
                            r.style.display = '';
                        } else {
                            r.style.display = (rcat === cat.toLowerCase()) ? '' : 'none';
                        }
                    });
                }

                document.addEventListener('DOMContentLoaded', function () {
                    const chips = document.querySelectorAll('.category-chip');
                    const select = document.getElementById('categorySelect');

                    if (chips && chips.length) {
                        chips.forEach((btn) => {
                            btn.addEventListener('click', function () {
                                // toggle active class
                                chips.forEach(c => c.classList.remove('active'));
                                this.classList.add('active');
                                const cat = this.getAttribute('data-category') || 'all';
                                // sync select if present
                                if (select) select.value = cat;
                                filterByCategory(cat);
                            });
                        });
                    }

                    if (select) {
                        select.addEventListener('change', function () {
                            const val = this.value || 'all';
                            // update chips
                            const targetChip = Array.from(document.querySelectorAll('.category-chip')).find(c => c.getAttribute('data-category') === val);
                            document.querySelectorAll('.category-chip').forEach(c => c.classList.remove('active'));
                            if (targetChip) targetChip.classList.add('active');
                            filterByCategory(val);
                        });
                    }
                });
            })();
        </script>
</body>
</html>
